{% extends 'WebProfilerBundle:Profiler:layout.html.twig' %}

{% block toolbar %}
    {% if collector.displayInWdt %}
        {% set icon %}
            <img height="28" alt="Assetic" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAcCAMAAABbGh8VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMjY5ODc2RTRFRDIxMUUyOUQzNUI2QTkwQjU4RkU2QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMjY5ODc2RjRFRDIxMUUyOUQzNUI2QTkwQjU4RkU2QiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjIyNjk4NzZDNEVEMjExRTI5RDM1QjZBOTBCNThGRTZCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIyNjk4NzZENEVEMjExRTI5RDM1QjZBOTBCNThGRTZCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+oJdgdgAAAVlQTFRFd3d3UFBQ8fHxPj4+8vLyg4ODnZ2dgYGB9vb22traTExMgoKCf39/h4eHPDw8RUVFaGhonJyck5OTQEBARkZG19fXwsLCsbGxT09PeHd3PT09s7OzdnV1kJCQWlpaUVBQ+Pj4a2tr2NjYSUlJX19f7u7uvb29Q0NDV1dXjo2O4uLi6+vrpKSk9PTzi4uLYGBgk5ST1dXVqamplpaWU1NTn5+fOTk5U1JSp6en2dnZpaWluLi47+7v9PT0bm5ud3Z23t7eysrKubm5y8vLcnJyNDQ0+vr6aWpqRERE3d3d6enpeHh4qKio8PDw5+fneHd41tbWVFRTsbCwYmJi9fX1fn5+oqKidHNzZ2doeXh4ZWVl5eXlcXBwmpqasLCwODg48/PzVFRUxMTE39/f6unpenp6fX19NjY2rq6uXV1d7+/vVVVVhISESkpKsrKyOzs7SEhIPz8/////tq7LNgAAAHN0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AO+Lr34AAAEHSURBVHjafNFnU8IwGMDxB1K67GIvQVTce28RcOPee2+BNn7/F9okXK/29P/yd8mTSwJfnuAPyoWEqp3Qv9qggbxVs4s8d4iMuH1MQqfRlwVG3YwKly09R4Tu7hldiTtLffBUfJC4KUpYXms1huFGN5s/PrGTAvHILwpA3TLBS0kXNXlXuegWaSuvyDXL0OXBCp21SwiFpYtYaS9z7KxKhWeMkS3lTHBo0pSGsnMb10qDtPF09nG5U1Z7yYnJeRmn1mPSGxqNtqlg07k4y/NBfpoPjp1MhOI/pC1ubvtJHH37uoW7fLTEoZ/Qge7cxUcpnWivsax3shPKaqDKEjLif1/r7luAAQDrTKWvW5hpqwAAAABJRU5ErkJggg=="/>
            <span>Assetic</span>
        {% endset %}
        {% set text %}
            <div class="sf-toolbar-info-piece">
                <b>Collections</b>
                <span>{{ collector.collections|length }}</span>
            </div>
        {% endset %}
        {% include 'WebProfilerBundle:Profiler:toolbar_item.html.twig' with { 'link': profiler_url } %}
    {% endif %}
{% endblock %}

{% block menu %}
    <span class="label">
        <span class="icon">
            <img width=25 src="{{ asset('bundles/webprofilerextra/images/assetic.png') }}" />
        </span>
        <strong>Assetic</strong>
        <span class="count">
            <span>{{ collector.collectionCount }}</span>
        </span>
    </span>
{% endblock %}

{% block panel %}
    <h2>Assetic</h2>
    {% if collector.collections|length %}
        <table>
            <tr>
                <th>Collection</th>
                <th>Sources</th>
                <th>Filters</th>
                <th>Target Url</th>
            </tr>
            {% for i, collection in collector.collections %}
                <tr class="{{ i is odd ? 'odd' : 'even' }}">
                    <th align="center">
                        {{ i }}
                    </th>
                    <td>
                        <ul>
                            {% for asset in collection.assets %}
                                <li><code>{{ asset }}</code></li>
                            {% endfor %}
                        </ul>
                    </td>
                    <td>
                        <ul>
                            {% for filter in collection.filters %}
                                <li><code>{{ filter }}</code></li>
                            {% endfor %}
                        </ul>
                    </td>
                    <td>
                        <a target="_blank" href="{{ request.basePath }}/{{ collection.target }}">{{ collection.target }}</a>
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>
            <em>No assetic collection</em>
        </p>
    {% endif %}
{% endblock %}
